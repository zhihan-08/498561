<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ç’°ä¿ç­”é¡Œé—œå¡</title>
  <style>
    body { margin:0; overflow:hidden; background:#d0f4f7; font-family:Arial,sans-serif; }
    #overlay {
      position:absolute; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.7); color:white;
      display:flex; align-items:center; justify-content:center;
      flex-direction:column; text-align:center;
      padding:20px;
    }
    #gameArea { display:none; position:relative; width:800px; height:600px; margin:auto; }
    .trash {
      position:absolute; width:100px; height:100px; cursor:pointer;
      background-size:contain; background-repeat:no-repeat;
    }
    #timer { position:absolute; top:10px; left:10px; font-size:24px; }
    #musicToggle {
      position:absolute; top:10px; right:10px; cursor:pointer;
    }
  </style>
</head>
<body>
  <div id="overlay">
    <h1>ç¬¬å››é—œï¼šç’°ä¿ç­”é¡Œ</h1>
    <p>é»æ“Šç•«é¢ä¸­çš„ 3 ç¨®åƒåœ¾ï¼Œä¸¦åœ¨ 30 ç§’å…§å›ç­”æ¯é¡Œé¸æ“‡é¡Œã€‚<br>ç­”å°å…¨éƒ¨å³å¯éé—œï¼Œç­”éŒ¯æˆ–è¶…æ™‚éœ€é‡ä¾†ï¼</p>
    <button id="startBtn">é–‹å§‹éŠæˆ²</button>
  </div>

  <div id="gameArea">
    <div id="timer">æ™‚é–“ï¼š30</div>
    <div id="musicToggle">ğŸ”Š é–‹/é—œéŸ³æ¨‚</div>
    <div id="trashes">
      <div id="t1" class="trash" style="top:100px; left:100px; background-image:url('https://png.pngtree.com/element_our/20190529/ourmid/pngtree-cans-cartoon-grunge-illustration-image_1200005.jpg');"></div>
      <div id="t2" class="trash" style="top:250px; left:350px; background-image:url('https://png.pngtree.com/element_our/20200702/ourmid/pngtree-beautiful-hand-painted-plastic-bag-png-element-image_2288144.jpg');"></div>
      <div id="t3" class="trash" style="top:150px; left:600px; background-image:url('https://png.pngtree.com/png-vector/20220120/ourmid/pngtree-creative-tableware-png-image_4349678.png');"></div>
    </div>
  </div>

  <audio id="bgm" src="https://cdn.pixabay.com/download/audio/2021/12/07/audio_7a494e715f.mp3?filename=relaxing-music-ode-to-bliss-3454.mp3" loop></audio>

  <script>
    const overlay = document.getElementById('overlay');
    const gameArea = document.getElementById('gameArea');
    const startBtn = document.getElementById('startBtn');
    const timerEl = document.getElementById('timer');
    const musicToggle = document.getElementById('musicToggle');
    const bgm = document.getElementById('bgm');
    const trashes = ['t1','t2','t3'];
    let answered = {};
    let timeLeft = 30, timer;

    const questions = {
      t1: {
        q: 'éµç½å±¬æ–¼å“ªç¨®åƒåœ¾ï¼Ÿ',
        options: ['å¯å›æ”¶ç‰©','ä¸€èˆ¬åƒåœ¾','å»šé¤˜'],
        answer: 0
      },
      t2: {
        q: 'å¡‘è† è¢‹æ‡‰æ­¸é¡ç‚ºï¼Ÿ',
        options: ['ä¸€èˆ¬åƒåœ¾','æœ‰å®³åƒåœ¾','å¯å›æ”¶ç‰©'],
        answer: 0
      },
      t3: {
        q: 'é€™äº›å¡‘è† é¤å…·æ‡‰ä¸Ÿåˆ°ï¼Ÿ',
        options: ['ä¸€èˆ¬åƒåœ¾','å¯å›æ”¶ç‰©','å»šé¤˜'],
        answer: 0
      }
    };

    function startGame(){
      overlay.style.display='none';
      gameArea.style.display='block';
      bgm.play();
      timer = setInterval(() => {
        timeLeft--;
        timerEl.textContent = 'æ™‚é–“ï¼š' + timeLeft;
        if(timeLeft <= 0){
          clearInterval(timer);
          alert('â° æ™‚é–“åˆ°ï¼Œè«‹é‡æ–°ç­”é¡Œï¼');
          resetGame();
        }
      }, 1000);
    }

    function resetGame(){
      clearInterval(timer);
      timeLeft=30;
      answered={};
      Object.values(questions).forEach((_,i)=>document.getElementById('t'+(i+1)).style.pointerEvents='auto');
      timerEl.textContent='æ™‚é–“ï¼š30';
      overlay.querySelector('p').innerHTML = 'é»æ“Šç•«é¢ä¸­çš„ 3 ç¨®åƒåœ¾ï¼Œä¸¦åœ¨ 30 ç§’å…§å›ç­”æ¯é¡Œé¸æ“‡é¡Œã€‚<br>ç­”å°å…¨éƒ¨å³å¯éé—œï¼Œç­”éŒ¯æˆ–è¶…æ™‚éœ€é‡ä¾†ï¼';
      overlay.style.display='flex';
      gameArea.style.display='none';
    }

    trashes.forEach(id=>{
      document.getElementById(id).addEventListener('click', () => {
        if(answered[id]) return;
        const qa = questions[id];
        const ans = prompt(`${qa.q}\n1. ${qa.options[0]}\n2. ${qa.options[1]}\n3. ${qa.options[2]}\nè«‹è¼¸å…¥æ•¸å­— 1-3`);
        const chosen = parseInt(ans) - 1;
        if(chosen === qa.answer){
          answered[id] = true;
          document.getElementById(id).style.opacity = '0.5';
          if(Object.keys(answered).length === trashes.length){
            clearInterval(timer);
            alert('ğŸ‰ æ­å–œå…¨éƒ¨ç­”å°ï¼Œéé—œæˆåŠŸï¼');
            resetGame();
          }
        } else {
          alert('ç­”éŒ¯äº†ï¼å¾é ­é–‹å§‹ã€‚');
          resetGame();
        }
      });
    });

    musicToggle.addEventListener('click', () => {
      if(bgm.paused){ bgm.play(); musicToggle.textContent='ğŸ”Š éŸ³æ¨‚ é–‹'; }
      else { bgm.pause(); musicToggle.textContent='ğŸ”‡ éŸ³æ¨‚ é—œ'; }
    });

    startBtn.addEventListener('click', startGame);
  </script>
</body>
</html>
